---
// src/pages/_home/latestNews.astro
import NewsCard from "@/components/cards/newsCard.astro";
import HeaderSection from "./headerSection.astro";
import { getRecentArticles } from "@/lib/sanity";

// Récupérer les 6 articles les plus récents depuis Sanity
const articles = await getRecentArticles(9);
---

<section class="container pt-12 pb-0 space-y-4" data-pagefind-ignore="all">
  <HeaderSection
    title="Latest News"
    link_title="View all"
    link_url="/articles"
  />
  <div class="grid grid-cols-1 md:grid-cols-3 gap-4 gap-y-6 md:grid-rows-2">
    {
      articles.map((article, index) => (
        <NewsCard article={article} index={index} />
      ))
    }
  </div>
</section>
